<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>How to create and send transactions - IOTA GoShimmer</title>
                

        <!-- Custom HTML head -->
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

                <link rel="icon" href="../favicon.svg">
                        <link rel="shortcut icon" href="../favicon.png">
                <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
                <link rel="stylesheet" href="../css/print.css" media="print">
        
        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
                <link rel="stylesheet" href="../fonts/fonts.css">
        
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
            </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../goshimmer.html"><strong aria-hidden="true">1.</strong> GoShimmer</a></li><li class="chapter-item expanded "><a href="../faq.html"><strong aria-hidden="true">2.</strong> FAQ</a></li><li class="chapter-item expanded "><a href="../tutorials.html"><strong aria-hidden="true">3.</strong> Tutorials</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../tutorials/setup.html"><strong aria-hidden="true">3.1.</strong> Set up a node</a></li><li class="chapter-item expanded "><a href="../tutorials/request_funds.html"><strong aria-hidden="true">3.2.</strong> Obtain tokens</a></li><li class="chapter-item expanded "><a href="../tutorials/wallet.html"><strong aria-hidden="true">3.3.</strong> Wallet library</a></li><li class="chapter-item expanded "><a href="../tutorials/dApp.html"><strong aria-hidden="true">3.4.</strong> Write a dApp</a></li><li class="chapter-item expanded "><a href="../tutorials/manual_peering.html"><strong aria-hidden="true">3.5.</strong> Manual peering</a></li><li class="chapter-item expanded "><a href="../tutorials/static_identity.html"><strong aria-hidden="true">3.6.</strong> Create a static identity</a></li><li class="chapter-item expanded "><a href="../tutorials/custom_dRNG.html"><strong aria-hidden="true">3.7.</strong> Set up a custom dRNG committee</a></li><li class="chapter-item expanded "><a href="../tutorials/monitoring.html"><strong aria-hidden="true">3.8.</strong> Set up the Monitoring Dashboard</a></li><li class="chapter-item expanded "><a href="../tutorials/send_transaction.html" class="active"><strong aria-hidden="true">3.9.</strong> How to create and send transactions</a></li></ol></li><li class="chapter-item expanded "><a href="../implementation_design.html"><strong aria-hidden="true">4.</strong> Implementation design</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../implementation_design/event_driven_model.html"><strong aria-hidden="true">4.1.</strong> Event driven model</a></li><li class="chapter-item expanded "><a href="../implementation_design/packages_plugins.html"><strong aria-hidden="true">4.2.</strong> Packages and plugins</a></li><li class="chapter-item expanded "><a href="../implementation_design/plugin.html"><strong aria-hidden="true">4.3.</strong> Plugin</a></li><li class="chapter-item expanded "><a href="../implementation_design/configuration_parameters.html"><strong aria-hidden="true">4.4.</strong> Configuration parameters</a></li><li class="chapter-item expanded "><a href="../implementation_design/object_storage.html"><strong aria-hidden="true">4.5.</strong> Object storage</a></li></ol></li><li class="chapter-item expanded "><a href="../protocol_specification.html"><strong aria-hidden="true">5.</strong> Protocol specification</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../protocol_specification/protocol.html"><strong aria-hidden="true">5.1.</strong> Protocol high level overview</a></li><li class="chapter-item expanded "><a href="../protocol_specification/components.html"><strong aria-hidden="true">5.2.</strong> Components</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../protocol_specification/tangle.html"><strong aria-hidden="true">5.2.1.</strong> Tangle</a></li><li class="chapter-item expanded "><a href="../protocol_specification/autopeering.html"><strong aria-hidden="true">5.2.2.</strong> Autopeering</a></li><li class="chapter-item expanded "><a href="../protocol_specification/mana.html"><strong aria-hidden="true">5.2.3.</strong> Mana</a></li><li class="chapter-item expanded "><a href="../protocol_specification/congestion_control.html"><strong aria-hidden="true">5.2.4.</strong> Congestion Control</a></li><li class="chapter-item expanded "><a href="../protocol_specification/consensus_mechanism.html"><strong aria-hidden="true">5.2.5.</strong> Consensus mechanism</a></li><li class="chapter-item expanded "><a href="../protocol_specification/ledgerstate.html"><strong aria-hidden="true">5.2.6.</strong> UTXO and Ledgerstate</a></li><li class="chapter-item expanded "><a href="../protocol_specification/advanced_outputs.html"><strong aria-hidden="true">5.2.7.</strong> Advanced Outputs (Experimental)</a></li><li class="chapter-item expanded "><a href="../protocol_specification/markers.html"><strong aria-hidden="true">5.2.8.</strong> Markers</a></li></ol></li><li class="chapter-item expanded "><a href="../protocol_specification/glossary.html"><strong aria-hidden="true">5.3.</strong> Glossary</a></li></ol></li><li class="chapter-item expanded "><a href="../api.html"><strong aria-hidden="true">6.</strong> API</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../apis/api.html"><strong aria-hidden="true">6.1.</strong> Client Lib</a></li><li class="chapter-item expanded "><a href="../apis/webAPI.html"><strong aria-hidden="true">6.2.</strong> WebAPI</a></li><li class="chapter-item expanded "><a href="../apis/info.html"><strong aria-hidden="true">6.3.</strong> Node info</a></li><li class="chapter-item expanded "><a href="../apis/autopeering.html"><strong aria-hidden="true">6.4.</strong> Autopeering</a></li><li class="chapter-item expanded "><a href="../apis/manual_peering.html"><strong aria-hidden="true">6.5.</strong> Manual peering</a></li><li class="chapter-item expanded "><a href="../apis/communication.html"><strong aria-hidden="true">6.6.</strong> Communication layer</a></li><li class="chapter-item expanded "><a href="../apis/ledgerstate.html"><strong aria-hidden="true">6.7.</strong> Ledgerstate</a></li><li class="chapter-item expanded "><a href="../apis/mana.html"><strong aria-hidden="true">6.8.</strong> Mana</a></li><li class="chapter-item expanded "><a href="../apis/dRNG.html"><strong aria-hidden="true">6.9.</strong> dRNG</a></li><li class="chapter-item expanded "><a href="../apis/snapshot.html"><strong aria-hidden="true">6.10.</strong> Snapshot</a></li><li class="chapter-item expanded "><a href="../apis/faucet.html"><strong aria-hidden="true">6.11.</strong> Faucet</a></li><li class="chapter-item expanded "><a href="../apis/spammer.html"><strong aria-hidden="true">6.12.</strong> Spammer</a></li><li class="chapter-item expanded "><a href="../apis/tools.html"><strong aria-hidden="true">6.13.</strong> Tools</a></li></ol></li><li class="chapter-item expanded "><a href="../tooling.html"><strong aria-hidden="true">7.</strong> Tooling</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../tooling/docker_private_network.html"><strong aria-hidden="true">7.1.</strong> Docker private network</a></li><li class="chapter-item expanded "><a href="../tooling/integration_tests.html"><strong aria-hidden="true">7.2.</strong> Integration tests</a></li></ol></li><li class="chapter-item expanded "><a href="../team_resources.html"><strong aria-hidden="true">8.</strong> Team Resources</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../teamresources/release.html"><strong aria-hidden="true">8.1.</strong> How to do a release</a></li><li class="chapter-item expanded "><a href="../teamresources/guidelines.html"><strong aria-hidden="true">8.2.</strong> Code Guidelines</a></li><li class="chapter-item expanded "><a href="../teamresources/local_development.html"><strong aria-hidden="true">8.3.</strong> Local development</a></li><li class="chapter-item expanded "><a href="../teamresources/analysis_dashboard.html"><strong aria-hidden="true">8.4.</strong> Modify the Analysis dashboard</a></li></ol></li></ol>            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                                                <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                                            </div>

                    <h1 class="menu-title">IOTA GoShimmer</h1>

                    <div class="right-buttons">
                                                <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                                                                        <a href="https://github.com/iotaledger/goshimmer" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                                                
                    </div>
                </div>

                                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="how-to-send-transaction"><a class="header" href="#how-to-send-transaction">How to send transaction</a></h1>
<p>The simplest and easiest way for creating transaction is to use ready solution, such us GUI wallets: <a href="https://github.com/iotaledger/pollen-wallet/tree/master">pollen-wallet</a> and <a href="https://github.com/Dr-Electron/ElectricShimmer">Dr-Electron ElectricShimmer</a>
or command line wallet <a href="./wallet.html">Command Line Wallet</a>. However, there is also an option to create a transaction directly with Go client library, which will be main focus of this tutorial.</p>
<p>For code examples you can go directly to <a href="send_transaction.html#code-examples">Code examples</a>.</p>
<h2 id="funds"><a class="header" href="#funds">Funds</a></h2>
<p>To create a transaction, firstly we need to be in possession of tokens. We can receive them from other network users or request them from the faucet. For more details on how to request funds, see <a href="./request_funds.html">this</a> tutorial.</p>
<h2 id="preparing-transaction"><a class="header" href="#preparing-transaction">Preparing transaction</a></h2>
<p>A transaction is built from two parts: a transaction essence, and the unlock blocks. The transaction essence contains, among other information, the amount, the origin and where the funds should be sent. The unlock block makes sure that only the owner of the funds being transferred is allowed to successfully perform this transaction.</p>
<h3 id="seed"><a class="header" href="#seed">Seed</a></h3>
<p>In order to send funds we need to have a private key that can be used to prove that we own the funds and consequently unlock them. If you want to use an existing seed from one of your wallets, just use the backup seed showed during a wallet creation. With this, we can decode the string with the <code>base58</code> library and create the <code>seed.Seed</code> instance. That will allow us to retrieve the wallet addresses (<code>mySeed.Address()</code>) and the corresponding private and public keys (<code>mySeed.KeyPair()</code>).</p>
<pre><code class="language-Go">seedBytes, _ := base58.Decode(&quot;BoDjAh57RApeqCnoGnHXBHj6wPwmnn5hwxToKX5PfFg7&quot;) // ignoring error
mySeed := walletseed.NewSeed(seedBytes)
</code></pre>
<p>Another option is to generate a completely new seed and addresses.</p>
<pre><code class="language-Go">mySeed := walletseed.NewSeed()
fmt.Println(&quot;My secret seed:&quot;, myWallet.Seed.String())
</code></pre>
<p>We can obtain the addresses from the seed by providing their index, in our example it is <code>0</code>. Later we will use the same index to retrieve the corresponding keys.</p>
<pre><code class="language-Go">myAddr := mySeed.Address(0)
</code></pre>
<p>Additionally, we should make sure that unspent outputs we want to use are already confirmed.
If we use a wallet, this information will be available along with the wallet balance. We can also use the dashboard and look up for our address in the explorer. To check the confirmation status with Go use <code>PostAddressUnspentOutputs()</code> API method to get the outputs and check their inclusion state.</p>
<pre><code class="language-Go">resp, _ := goshimAPI.PostAddressUnspentOutputs([]string{myAddr.Base58()}) // ignoring error
for _, output := range resp.UnspentOutputs[0].Outputs {
		fmt.Println(&quot;outputID:&quot;, output.Output.OutputID.Base58, &quot;confirmed:&quot;, output.InclusionState.Confirmed)
}
</code></pre>
<h3 id="transaction-essence"><a class="header" href="#transaction-essence">Transaction essence</a></h3>
<p>The transaction essence can be created with:
<code>NewTransactionEssence(version, timestamp, accessPledgeID, consensusPledgeID, inputs, outputs)</code>
We need to provide the following arguments:</p>
<pre><code class="language-Go">var version TransactionEssenceVersion
var timestamp time.Time
var accessPledgeID identity.ID
var consensusPledgeID identity.ID
var inputs ledgerstate.Inputs
var outputs ledgerstate.Outputs
</code></pre>
<h4 id="version-and-timestamp"><a class="header" href="#version-and-timestamp">Version and timestamp</a></h4>
<p>We use <code>0</code> for a version and provide the current time as a timestamp of the transaction.</p>
<pre><code class="language-Go">version = 0
timestamp = time.Now()
</code></pre>
<h4 id="mana-pledge-ids"><a class="header" href="#mana-pledge-ids">Mana pledge IDs</a></h4>
<p>We also need to specify the nodeID to which we want to pledge the access and consensus mana. We can use two different nodes for each type of mana.
We can retrieve an identity instance by converting base58 encoded node ID as in the following example:</p>
<pre><code class="language-Go">pledgeID, err := mana.IDFromStr(base58encodedNodeID)
accessPledgeID = pledgeID
consensusPledgeID = pledgeID
</code></pre>
<p>or discard mana by pledging it to the empty nodeID:</p>
<pre><code class="language-Go">accessPledgeID = identity.ID{}
consensusPledgeID = identity.ID{}
</code></pre>
<h4 id="inputs"><a class="header" href="#inputs">Inputs</a></h4>
<p>As inputs for the transaction we need to provide unspent outputs.
To get unspent outputs of the address we can use the following example.</p>
<pre><code class="language-Go">resp, _ := goshimAPI.GetAddressUnspentOutputs(myAddr.Base58())  // ignoring error
// iterate over unspent outputs of an address
for _, output := range resp2.Outputs {
    var out ledgerstate.Output
    out, _ = output.ToLedgerstateOutput()  // ignoring error
}
</code></pre>
<p>To check the available output's balance use <code>Balances()</code> method and provide the token color. We use the default, IOTA color.</p>
<pre><code class="language-Go">balance, colorExist := out.Balances().Get(ledgerstate.ColorIOTA)
fmt.Println(balance, exist)
</code></pre>
<p>or iterate over all colors and balances:</p>
<pre><code class="language-Go">out.Balances().ForEach(func(color ledgerstate.Color, balance uint64) bool {
			fmt.Println(&quot;Color:&quot;, color.Base58())
			fmt.Println(&quot;Balance:&quot;, balance)
			return true
		})
</code></pre>
<p>At the end we need to wrap the selected output to match the interface of the inputs:</p>
<pre><code class="language-Go">inputs = ledgerstate.NewInputs(ledgerstate.NewUTXOInput(out))
</code></pre>
<h4 id="outputs"><a class="header" href="#outputs">Outputs</a></h4>
<p>To create the most basic type of output use
<code>ledgerstate.NewSigLockedColoredOutput()</code> and provide it with a balance and destination address. Important is to provide the correct balance value. The total balance with the same color has to be equal for input and output.</p>
<pre><code class="language-Go">balance := ledgerstate.NewColoredBalances(map[ledgerstate.Color]uint64{
							ledgerstate.ColorIOTA: uint64(100),
						})
outputs := ledgerstate.NewOutputs(ledgerstate.NewSigLockedColoredOutput(balance, destAddr.Address()))
</code></pre>
<p>The same as in case of inputs we need to adapt it with <code>ledgerstate.NewOutputs()</code> before passing to the <code>NewTransactionEssence</code> function.</p>
<h3 id="signing-transaction"><a class="header" href="#signing-transaction">Signing transaction</a></h3>
<p>After preparing the transaction essence, we should sign it and put the signature to the unlock block part of the transaction.
We can retrieve private and public key pairs from the seed by providing it with indexes corresponding to the addresses that holds the unspent output that we want to use in our transaction.</p>
<pre><code class="language-Go">kp := *mySeed.KeyPair(0)
txEssence := NewTransactionEssence(version, timestamp, accessPledgeID, consensusPledgeID, inputs, outputs)
</code></pre>
<p>We can sign the transaction in two ways: with ED25519 or BLS signature. The wallet seed library uses <code>ed25519</code> package and keys, so we will use <code>Sign()</code> method along with <code>ledgerstate.ED25519Signature</code> constructor to sign the transaction essence bytes.
Next step is to create the unlock block from our signature.</p>
<pre><code class="language-Go">signature := ledgerstate.NewED25519Signature(kp.PublicKey, kp.PrivateKey.Sign(txEssence.Bytes())
unlockBlock := ledgerstate.NewSignatureUnlockBlock(signature)
</code></pre>
<p>Putting it all together, now we are able to create transaction with previously created transaction essence and adapted unlock block.</p>
<pre><code class="language-Go">tx := ledgerstate.NewTransaction(txEssence, ledgerstate.UnlockBlocks{unlockBlock})
</code></pre>
<h2 id="sending-transaction"><a class="header" href="#sending-transaction">Sending transaction</a></h2>
<p>There are two web API methods that allows us to send the transaction:
<code>PostTransaction()</code> and <code>IssuePayload()</code>. The second one is a more general method that sends the attached payload. We are going to use the first one that will additionally check the transaction validity before issuing and wait with sending the response until the message is booked.
The method accepts a byte array, so we need to call <code>Bytes()</code>.
If the transaction will be booked without any problems, we should be able to get the transaction ID from the API response.</p>
<pre><code class="language-Go">resp, err := goshimAPI.PostTransaction(tx.Bytes())
if err != nil {
	return
}
fmt.Println(&quot;Transaction issued, txID:&quot;, resp.TransactionID)
</code></pre>
<h2 id="code-examples"><a class="header" href="#code-examples">Code examples</a></h2>
<h3 id="creating-the-transaction"><a class="header" href="#creating-the-transaction">Creating the transaction</a></h3>
<p>Constructing a new <code>ledgerstate.Transaction</code>. </p>
<pre><code class="language-go">import (
	&quot;fmt&quot;
	&quot;net/http&quot;
	&quot;time&quot;

	&quot;github.com/iotaledger/goshimmer/client&quot;
	walletseed &quot;github.com/iotaledger/goshimmer/client/wallet/packages/seed&quot;
	&quot;github.com/iotaledger/goshimmer/packages/ledgerstate&quot;
	&quot;github.com/iotaledger/goshimmer/packages/mana&quot;
)

func buildTransaction() (tx *ledgerstate.Transaction, err error) {
	// node to pledge access mana.
	accessManaPledgeIDBase58 := &quot;2GtxMQD94KvDH1SJPJV7icxofkyV1njuUZKtsqKmtux5&quot;
	accessManaPledgeID, err := mana.IDFromStr(accessManaPledgeIDBase58)
	if err != nil {
		return
	}

	// node to pledge consensus mana.
	consensusManaPledgeIDBase58 := &quot;1HzrfXXWhaKbENGadwEnAiEKkQ2Gquo26maDNTMFvLdE3&quot;
	consensusManaPledgeID, err := mana.IDFromStr(consensusManaPledgeIDBase58)
	if err != nil {
		return
	}
     
        /**
        N.B to pledge mana to the node issuing the transaction, use empty pledgeIDs.
        emptyID := identity.ID{}
        accessManaPledgeID, consensusManaPledgeID := emptyID, emptyID
        **/      

	// destination address.
	destAddressBase58 := &quot;your_base58_encoded_address&quot;
	destAddress, err := ledgerstate.AddressFromBase58EncodedString(destAddressBase58)
	if err != nil {
		return
	}

	// output to consume.
	outputIDBase58 := &quot;your_base58_encoded_outputID&quot;
	out, err := ledgerstate.OutputIDFromBase58(outputIDBase58)
	if err != nil {
		return
	}
	inputs := ledgerstate.NewInputs(ledgerstate.NewUTXOInput(out))

	// UTXO output.
	output := ledgerstate.NewSigLockedColoredOutput(ledgerstate.NewColoredBalances(map[ledgerstate.Color]uint64{
		ledgerstate.ColorIOTA: uint64(1337),
	}), destAddress)
	outputs := ledgerstate.NewOutputs(output)

	// build tx essence.
	txEssence := ledgerstate.NewTransactionEssence(0, time.Now(), accessManaPledgeID, consensusManaPledgeID, inputs, outputs)

	// sign.
	seed := walletseed.NewSeed([]byte(&quot;your_seed&quot;))
	kp := seed.KeyPair(0)
	sig := ledgerstate.NewED25519Signature(kp.PublicKey, kp.PrivateKey.Sign(txEssence.Bytes()))
	unlockBlock := ledgerstate.NewSignatureUnlockBlock(sig)

	// build tx.
	tx = ledgerstate.NewTransaction(txEssence, ledgerstate.UnlockBlocks{unlockBlock})
	return
}
</code></pre>
<h3 id="post-the-transaction"><a class="header" href="#post-the-transaction">Post the transaction</a></h3>
<p>There are 2 available options to post the created transaction.</p>
<ul>
<li>GoShimmer client lib</li>
<li>Web API</li>
</ul>
<h4 id="post-via-client-lib"><a class="header" href="#post-via-client-lib">Post via client lib</a></h4>
<pre><code class="language-go">func postTransactionViaClientLib() (res string , err error) {
	// connect to goshimmer node
	goshimmerClient := client.NewGoShimmerAPI(&quot;http://127.0.0.1:8080&quot;, client.WithHTTPClient(http.Client{Timeout: 60 * time.Second}))

	// build tx from previous step
	tx, err := buildTransaction()
	if err != nil {
		return
	}

	// send the tx payload.
	res, err = goshimmerClient.PostTransaction(tx.Bytes())
	if err != nil {
		return
	}
	return
}
</code></pre>
<h4 id="post-via-web-api"><a class="header" href="#post-via-web-api">Post via web API</a></h4>
<p>First, get the transaction bytes.</p>
<pre><code class="language-go">// build tx from previous step
tx, err := buildTransaction()
if err != nil {
    return
}
bytes := tx.Bytes()

// print bytes
fmt.Println(string(bytes))
</code></pre>
<p>Then, post the bytes.</p>
<pre><code class="language-shellscript">curl --location --request POST 'http://localhost:8080/ledgerstate/transactions' \
--header 'Content-Type: application/json' \
--data-raw '{
    &quot;tx_bytes&quot;: &quot;bytes...&quot;
}'
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                                                    <a rel="prev" href="../tutorials/monitoring.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        
                                                    <a rel="next" href="../implementation_design.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                                    <a rel="prev" href="../tutorials/monitoring.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                
                                    <a rel="next" href="../implementation_design.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                            </nav>

        </div>

        
        
        
                <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        
        
                <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        
        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        
        
    </body>
</html>
